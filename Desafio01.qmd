---
title: "Desafio 01 - ME315"
author: "Gustavo Zanareli"
format: html
editor: visual
---

Utilize o conjunto de dados `flights.csv.zip` disponível em <https://www.kaggle.com/usdot/flight-delays> e carregue os dados utilizando as funções:

-   `read.csv()` do pacote `base` do **R**
-   `read_csv()` do pacote `readr` do **R**
-   `read_csv()` do `pandas` no **Python**

Qual dessas três formas de carregar os dados é mais rápida? (calcule o tempo exato que demorou cada método em carregar os dados no seu computador)

<center>**Fim do desafio:** 10h30m</center>

## Observação: no link acima, baixar o arquivo `flights.csv`, zipar ele (e salvar como `flights.csv.zip`).

Criar um ambiente virtual 'env_me315' e usar ele quando for utilizar Python.

```{r}
library(reticulate) # Carrega pacote para integração R-Python
virtualenv_create("env_me315") # Cria ambiente virtual Python isolado para o projeto
```

```{r}
use_virtualenv("env_me315") # Define o ambiente virtual a ser usado
py_install("pandas", envname = "env_me315") # Instala pandas no ambiente virtual
```

```{r}
# Método 1: base R
ini <- Sys.time()
dados <- read.csv(unz('flights.csv.zip', "flights.csv"))
fim <- Sys.time()
fim - ini
```

```{r}
# Método 2: readr (R)
library(readr)
ini <- Sys.time()
dados <- read_csv('flights.csv.zip')
fim <- Sys.time()
fim - ini
```

```{python}
# Método 3: pandas (Python)
import time
import pandas as pd
ini = time.time()
dados = pd.read_csv("flights.csv.zip", compression="zip", header=0, sep=",", low_memory=False)
fim = time.time()
fim - ini
```